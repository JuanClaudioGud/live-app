<ion-header>
  <ion-toolbar class="bg-gradient-person">
    <ion-buttons slot="start">
      <ion-back-button style="color: white"></ion-back-button>
    </ion-buttons>
    <ion-title>{{ 'news.read' | translate}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="bg-gradient-person">
  <ion-card *ngIf="news && news != 404" style="width: 80%;margin: auto;">
    <ion-card-header>
      <ion-card-subtitle style="text-align: center;">{{ 'sport.'+news.news?.sport| translate}}</ion-card-subtitle>
      <ion-card-title style="text-align: center;">{{news.news?.headline}}</ion-card-title>
      <ion-item>
        <ion-label>
          <ion-text color="black">
            <h1 style="font-size:14px">{{news.news?.user.name}} {{news.news?.user.last_name}} </h1>
          </ion-text>
        </ion-label>
        <ion-text color="black">
          <h2 style="font-size:14px" >{{news.news?.date | customDisplayDate}}</h2>
        </ion-text>   
      </ion-item>
    </ion-card-header>
    <ion-img *ngIf="news.news?.principalImage"   class="imageSelected" [src]="news.news?.principalImage"></ion-img>
    <div *ngIf="news.news?.principalVideo" style="position: relative">
      <video
        controls="controls"
        preload="metadata"
        autoplay="autoplay"
        webkit-playsinline="webkit-playsinline"
        class="videoPlayer"
      >
        <source [src]="news.news?.principalVideo | safeUrl" type="video/mp4" />
      </video>
    </div> 
    <ion-card-content *ngFor="let parrafo of news.news?.content;let i = index">
      <div style="color: black;text-align: justify;"  [innerHTML]="parrafo.parrafo">
      </div>
      <ion-img *ngIf="parrafo?.image"   class="imageArray" [src]="parrafo?.image"></ion-img>
      <div *ngIf="parrafo?.video" style="position: relative">
        <video
          controls="controls"
          preload="metadata"
          autoplay="autoplay"
          webkit-playsinline="webkit-playsinline"
          class="videoPlayer"
        >
          <source [src]="parrafo?.video | safeUrl" type="video/mp4" />
        </video>
      </div>
    </ion-card-content>
<post-options 
  [news]="news"
  isPost="false"
></post-options>
<ion-grid>
  <ion-row>
    <ion-col size="12">
      <comment-post  [news]="news.news" (newComment)="comments($event)"></comment-post>
    </ion-col>
    <ion-col *ngFor="let comment of news.comments"  size="12">
      <ion-card class="comment"  >
        <ion-card-header>
          <ion-card-subtitle class="user-header">
            <ion-avatar class="mini">
            <ion-img class="img-user-mini" [src]="comment.user.photo"></ion-img>
            <div class="connectedDIVlittle" *ngIf="comment.user.connected"></div>
          </ion-avatar>
          <div class="user-name">
            <span class="message profile-name" (click)="goToProfile(comment.user._id,comment.user.username)" >{{comment.user.name}} {{comment.user.last_name}}</span><br>
            <span>{{comment.date | customDisplayDate}}</span>
          </div>
          
          </ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>
          <span *ngIf="comment.message" [innerHTML]="comment.message | links"></span>
          <ion-img (click)="openImg(comment)" class="img-comment" *ngIf="comment.image" [src]="comment.image">

          </ion-img>
        </ion-card-content>
        </ion-card>
 
    </ion-col>
  </ion-row>
</ion-grid>
  </ion-card>

</ion-content>
