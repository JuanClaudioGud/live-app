<ion-header>
  <ion-toolbar class="bg-gradient-person">
    <ion-buttons slot="start">
      <ion-back-button style="color: white"></ion-back-button>
    </ion-buttons>
    <ion-title>{{ 'news.read' | translate}}</ion-title>
  </ion-toolbar>
</ion-header>

<!-- <ion-content class="bg-gradient-person">
  <ion-card *ngIf="news && news != 404" style="width: 80%;margin: auto;">
    <ion-card-header>
      <ion-card-subtitle style="text-align: center;">{{ 'sport.'+news.news?.sport| translate}}</ion-card-subtitle>
      <ion-card-title style="text-align: center;">{{news.news?.headline}}</ion-card-title>
      <ion-item>
        <ion-label>
          <ion-text color="black">
            <h1 style="font-size:14px">{{news.news?.user.name}} {{news.news?.user.last_name}} </h1>
          </ion-text>
        </ion-label>
        <ion-text color="black">
          <h2 style="font-size:14px" >{{news.news?.date | customDisplayDate}}</h2>
        </ion-text>   
      </ion-item>
    </ion-card-header>
    <ion-img *ngIf="news.news?.principalImage"   class="imageSelected" [src]="news.news?.principalImage"></ion-img>
    <div *ngIf="news.news?.principalVideo" style="position: relative">
      <video
        controls="controls"
        preload="metadata"
        autoplay="autoplay"
        webkit-playsinline="webkit-playsinline"
        class="videoPlayer"
      >
        <source [src]="news.news?.principalVideo | safeUrl" type="video/mp4" />
      </video>
    </div> 
    <ion-card-content *ngFor="let parrafo of news.news?.content;let i = index">
      <div style="color: black;text-align: justify;"  [innerHTML]="parrafo.parrafo">
      </div>
      <ion-img *ngIf="parrafo?.image"   class="imageArray" [src]="parrafo?.image"></ion-img>
      <div *ngIf="parrafo?.video" style="position: relative">
        <video
          controls="controls"
          preload="metadata"
          autoplay="autoplay"
          webkit-playsinline="webkit-playsinline"
          class="videoPlayer"
        >
          <source [src]="parrafo?.video | safeUrl" type="video/mp4" />
        </video>
      </div>
    </ion-card-content>
<post-options 
  [news]="news"
  isPost="false"
></post-options>
<ion-grid>
  <ion-row>
    <ion-col size="12">
      <comment-post  [news]="news.news" (newComment)="comments($event)"></comment-post>
    </ion-col>
    <ion-col *ngFor="let comment of news.comments"  size="12">
      <ion-card class="comment"  >
        <ion-card-header>
          <ion-card-subtitle class="user-header">
            <ion-avatar class="mini">
            <ion-img class="img-user-mini" [src]="comment.user.photo"></ion-img>
            <div class="connectedDIVlittle" *ngIf="comment.user.connected"></div>
          </ion-avatar>
          <div class="user-name">
            <span class="message profile-name" (click)="goToProfile(comment.user._id,comment.user.username)" >{{comment.user.name}} {{comment.user.last_name}}</span><br>
            <span>{{comment.date | customDisplayDate}}</span>
          </div>
          
          </ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>
          <span *ngIf="comment.message" [innerHTML]="comment.message | links"></span>
          <ion-img (click)="openImg(comment)" class="img-comment" *ngIf="comment.image" [src]="comment.image">

          </ion-img>
        </ion-card-content>
        </ion-card>
 
    </ion-col>
  </ion-row>
</ion-grid>
  </ion-card>

</ion-content>
 -->

<ion-content *ngIf="news && news != 404" class="bg-gradient-person">
<div style="background:white; text-align: center;width: 85%;margin: auto;">
 <ion-grid>
  <ion-row>
    <ion-col size="12">
         <!--  Header de la noticia -->
  <div>

    <h4 style="text-align: center;color: #737373;font-size: 14px;">{{ 'sport.'+news?.news.sport| translate}}</h4>
    <h1 style="text-align: center;font-size: 30px;">{{news?.news.headline}}</h1>
    <h2 *ngIf="news?.news.principalSubtitle" style="text-align: center;color: #5a5a5a;">{{news?.news.principalSubtitle}}</h2>
    <ion-item>
      <ion-label>
        <ion-text color="black">
          <h1 style="font-size:14px">{{news?.news.user.name}} {{news?.news.user.last_name}} </h1>
        </ion-text>
      </ion-label>
      <ion-text color="black">
        <h2 style="font-size:14px" >{{news?.news.date | customDisplayDate}}</h2>
      </ion-text>   
    </ion-item>
  </div>
    </ion-col>
 



  <ion-col size="12">
   <!-- Imagen Principal -->
   <ion-img *ngIf="news?.news.principalImage"   class="imageSelected" [src]="news?.news.principalImage"></ion-img>
      <!-- Video Principal -->
   <div *ngIf="news?.news.principalVideo" style="position: relative">
     <video
       controls="controls"
       preload="metadata"
       autoplay="autoplay"
       webkit-playsinline="webkit-playsinline"
       class="videoPlayer"
     >
       <source [src]="news?.news.principalVideo | safeUrl" type="video/mp4" />
     </video>
   </div> 
   <p *ngIf="news?.news.principalVideo != null || news?.news.principalImage != null " style="text-align: center;color: #737373;font-size: 14px;"><i>{{news?.news.originPrincipaMedia }}</i></p>

</ion-col> 

  <!--  Cuerpo de la noticia -->
<ion-col size="12">
  <div *ngFor="let parrafo of news?.news.content;let i = index">
    <ion-grid>
      <ion-row>
        <ion-col size="12">
        <!-- Este es el Subtitulo -->
        <h2 *ngIf="parrafo.subtitle" style="text-align: center;color: #5a5a5a;font-size: 23px;">
          {{parrafo.subtitle}}
        </h2>
        

          <!-- Este es el parrafo -->
          <div style="color: black;text-align: justify;"  [innerHTML]="parrafo.parrafo"></div>
        </ion-col>

    
        
          
          <ion-col *ngIf="parrafo.image || parrafo.video" size="12">
                    <!--  Imagen del parrafo -->
          <ion-img  *ngIf="parrafo.image "  class="imageArray" [src]="parrafo.image"></ion-img>
          <!-- Videos notPrincipal (del parrafo) -->
        <div *ngIf=" parrafo.video" style="position: relative">
          <ion-icon
            name="close"
            class="close-video"
          ></ion-icon>
          <video
            controls="controls"
            preload="metadata"
            autoplay="autoplay"
            webkit-playsinline="webkit-playsinline"
            class="videoPlayer"
          >
            <source [src]="parrafo.video | safeUrl" type="video/mp4" />
          </video>
        </div> 
        <p *ngIf="parrafo.originMedia" style="text-align: center;color: #737373;font-size: 14px;"><i>{{parrafo.originMedia}}</i></p>

      </ion-col>

      </ion-row>
    </ion-grid>
     </div>
    </ion-col>
    <ion-col  size="12" >
      <p style="text-align: center;color: #737373;font-size: 14px;"><i>{{news?.news.origin}}</i></p>
     </ion-col>
    
   </ion-row>
 </ion-grid>
 </div>

 <div style="--background: white;width: 85%;margin-top: 5%;margin-left: auto;margin-right: auto;">
 <post-options style="background: white;"
  [news]="news"
  isPost="false"
></post-options>
<ion-grid>
  <ion-row>
    <ion-col size="12">
      <comment-post  [news]="news?.news" (newComment)="comments($event)"></comment-post>
    </ion-col>
    <ion-col *ngFor="let comment of news?.comments"  size="12">
      <ion-card class="comment"  >
        <ion-card-header>
          <ion-card-subtitle class="user-header">
            <ion-avatar class="mini">
            <ion-img class="img-user-mini" [src]="comment.user.photo"></ion-img>
            <div class="connectedDIVlittle" *ngIf="comment.user.connected"></div>
          </ion-avatar>
          <div class="user-name">
            <span class="message profile-name"
             >{{comment.user.name}} {{comment.user.last_name}}</span><br>
            <span>{{comment.date | customDisplayDate}}</span>
          </div>
          
          </ion-card-subtitle>
        </ion-card-header>
        <ion-card-content>
          <span *ngIf="comment.message" [innerHTML]="comment.message | links"></span>
          <ion-img 
           class="img-comment" *ngIf="comment.image" [src]="comment.image">

          </ion-img>
        </ion-card-content>
        </ion-card>
 
    </ion-col>
  </ion-row>
</ion-grid>
</div>
</ion-content>





