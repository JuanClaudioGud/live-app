<ion-content>
  <lang-button></lang-button>

  <ion-grid class="main-grid">
    <ion-row class="main-row">
      <ion-col class="main-col" size-lg="5" size-md="8" size-sm="12">
        <ion-card ngClass.xs="login-xs" class="main-card">
          <ion-card-header *ngIf="valid" class="text-center">
            <img
              src="assets/logos/imagotipo_azul.png"
              alt="SportYeah"
              width="200px"
              style="vertical-align: middle !important"
            />
            <ion-card-title
              >{{'new_password.title' | translate}}</ion-card-title
            >
            <ion-card-subtitle
              >{{'new_password.subtitle' | translate}}</ion-card-subtitle
            >
          </ion-card-header>
          <ion-card-header *ngIf="!valid" class="text-center">
            <img
              src="assets/logos/imagotipo_azul.png"
              alt="SportYeah"
              width="200px"
              style="vertical-align: middle !important"
            />
            <ion-card-title
              >{{'new_password.invalid.title' | translate}}</ion-card-title
            >
            <ion-card-subtitle
              >{{'new_password.invalid.subtitle' |
              translate}}</ion-card-subtitle
            >
            <div class="max-widht-300 center margin-top-10 text-center">
              <a routerLink="/login"
                >{{'new_password.invalid.back'| translate}}</a
              >
            </div>
          </ion-card-header>

          <ion-card-content>
            <ion-grid>
              <ion-row>
                <ion-col>
                  <form *ngIf="valid" [formGroup]="newPasswordForm">
                    <ion-grid class="max-widht-300 center">
                      <ion-row>
                        <ion-col size="12">
                          <ion-item>
                            <ion-label position="floating"
                              >{{'new_password.password.label' |
                              translate}}</ion-label
                            >
                            <ion-input
                              formControlName="password"
                              type="password"
                            ></ion-input>
                          </ion-item>
                          <div
                            *ngIf="newPasswordForm.controls.password.touched"
                          >
                            <span
                              class="error"
                              *ngIf="newPasswordForm.controls.password.errors?.required"
                            >
                              {{'new_password.password.required' | translate}}
                            </span>
                            <span
                              class="error"
                              *ngIf="newPasswordForm.controls.password.errors?.pattern"
                            >
                              {{'new_password.password.regex' | translate}}
                            </span>
                          </div>
                        </ion-col>
                        <ion-col size="12">
                          <ion-item>
                            <ion-label position="floating"
                              >{{'new_password.repeat_password.label' |
                              translate}}</ion-label
                            >
                            <ion-input
                              formControlName="repeat_password"
                              type="password"
                            ></ion-input>
                          </ion-item>
                          <div
                            *ngIf="newPasswordForm.controls.repeat_password.touched"
                          >
                            <span
                              class="error"
                              *ngIf="newPasswordForm.controls.repeat_password.errors?.required"
                            >
                              {{'new_password.repeat_password.required' |
                              translate}}
                            </span>
                            <span
                              class="error"
                              *ngIf="newPasswordForm.controls.repeat_password.errors?.repeatInvalid"
                            >
                              {{'new_password.repeat_password.repeatInvalid' |
                              translate}}
                            </span>
                          </div>
                        </ion-col>
                      </ion-row>
                    </ion-grid>
                  </form>

                  <div style="text-align: center; padding: 10px">
                    <ion-button
                      *ngIf="valid"
                      [disabled]="newPasswordForm.invalid"
                      (click)="accept()"
                      class="btn-secondary"
                      >{{'new_password.button' | translate}}</ion-button
                    >
                  </div>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
